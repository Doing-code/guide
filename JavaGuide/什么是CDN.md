# 什么是CDN

### 什么是CDN

CDN（content delivery network 内容分发网络）是一组地理上分布的服务器，用于缓存靠近最终用户的内容。CDN 允许快速传输加载互联网内容所需的资产，包括 HTML 页面、JavaScript 文件、样式表、图像和视频。

虽然 CDN 不托管内容，也不能取代对适当 Web 托管的需求，但它确实有助于在网络边缘缓存内容，从而提高网站性能。

通过利用**缓存**来减少托管带宽、帮助防止服务中断并提高安全性。

**缓存未命中**：当客户端向 CDN 请求内容，而 CDN 刚好没有缓存该内容时，称之为缓存未命中。CDN 则向源服务器请求未命中内容。源服务器响应后，CDN将缓存内容并将其分发给客户端。

**缓存命中**：当客户端向 CDN 请求内容时，CDN 刚好缓存了此内容，这时我们就称之为缓存命中。在这种情况下，CDN会向客户端设备分发缓存内容。

**TTL**：CDN 不会无限期地缓存视频分片或者其他媒体内容。它使用一个名为 TTL（Time to Live）的变量来丢弃和刷新那些不被频繁请求的视频内容。这种缓存刷新可以为新内容腾出空间并智能管理磁盘空间。

> 可以理解为：用户 -> CDN（代理） -> 源资源服务器

### 为什么要使用CDN

尽管使用 CDN 的好处因互联网资产的规模和需求而异，但大多数用户的主要收益可分为四个不同的部分。

1. 缩短网站加载时间：通过使用附近 CDN 服务器（以及其它优化）将内容分发到更靠近网站访问者的位置，访问者可以体验更快的页面加载时间。

2. 降低带宽成本：网站托管的带宽消耗成本是网站的主要支出。通过缓存和其它优化，CDN 能够减少源服务器必须提供哦那个的数据量，从而降低网站所有者的托管成本。

3. 增加内容可用性和冗余：大量流量或硬件故障可能会中断网站的正常功能。由于其分布式特性，CDN 可以比许多源服务器处理更多流量并更好地承受硬件故障。

4. 提高网站安全性：CDN 可以通过提供 DDoS（Distributed Denial of Service） 缓解、安全证书改进和其它优化来提高安全性。

### CDN如何运作

CDN 的核心是一个连接在一起的服务器网络，其目标是尽可能快速、廉价、可靠和安全地交付内容。为了提高速度和连接线，CDN 会将服务器放置在不同网络之间的交换点。

这些互联网交换点 (IXP) 是不同互联网提供商连接的主要位置，以便相互提供对源自其不同网络的流量的访问。通过连接到这些高速且高度互连的位置，CDN 提供商能够降低高速数据传输的成本和传输时间。

![](https://cf-assets.www.cloudflare.com/slt3lc6tev37/7Dy6rquZDDKSJoeS27Y6xc/4a671b7cc7894a475a94f0140981f5d9/what_is_a_cdn_distributed_server_map.png)

除了在 IXP 中放置服务器之外，CDN 还对标准客户端/服务器数据传输进行了许多优化。CDN 将数据中心放置在全球的战略位置，增强安全性，并旨在应对各种类型的故障和互联网拥塞。